<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.5.8/slick.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<style>
  body:has(.instagram-carousel-section){
    background-color: #F5F5F5;
    display: flex;
    justify-content: center;
    align-items: center;
  }
.instagram-carousel-section {
  background-color: #fff;
  max-width: 393px;
  padding-left: 29.25px;
  padding-top: 19.23px;
}
.carousel-heading {
  margin-bottom: 20.69px;
  line-height: 1;
}
.carousel-title {
  font-family: 'Neue Montreal';
  line-height: 1;
  margin: 0;
  color: #9F9F9F;
  letter-spacing: 0;
  font-size: 23.53px;
}
.carousel-count {
  font-family: 'Neue Montreal';
  line-height: 1;
  letter-spacing: 0;
  color: #9F9F9F;
  font-size: 23.53px;
}
.carousel-highlight {
  font-family: 'Neue Montreal Medium';
    letter-spacing: 0;
    line-height: 1;
    font-size: 23.53px;
    background: linear-gradient(90deg, #9F9F9F 0%, #9F0D0E 4%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
}
.carousel-slider {
  padding-left: 0;
}
.carousel-slide {
  /* width: 219.35px !important; */
  margin-right: 7.35px;
  height: 329.02px;
}
.carousel-card {
  position: relative;
  border-radius: 6.4px;
  overflow: hidden;
  max-height: 100%;
  cursor: grab;
}
.carousel-image {
  display: block;
  width: 100%;
  height: 100%;
  max-height: 329.02px;
  min-height: 329.02px;
  object-fit: cover;
  object-position: center;
}
.carousel-overlay {
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 25%;
  background: linear-gradient(to top, rgba(0, 0, 0, 1), rgba(0, 0, 0, 0));
}
.carousel-handle {
  position: absolute;
  bottom: 11.5px;
  left: 50%;
  transform: translateX(-50%);
  color: #fff;
  z-index: 2;
  text-decoration: none;
  font-family: 'Neue Montreal';
  line-height: 1;
  letter-spacing: 0;
  font-size: 13.24px;
}
@media only screen and (max-width: 393px) {
  .instagram-carousel-section {
    max-width: 375px;
    padding-left: 20px;
    padding-top: 15px;
  }
}
@media only screen and (max-width: 375px) {
  .instagram-carousel-section {
    max-width: 340px;

  }
}
@media only screen and (max-width: 320px) {
  .instagram-carousel-section {
    max-width: 300px;

  }
}
/* .slick-list{padding:0 34.87% 0 0 !important;} */

</style>
<section id="instagram-carousel" class="instagram-carousel-section">
  <div class="carousel-container">
    <div class="carousel-heading">
        <h2 class="carousel-title">{{ section.settings.title }}</h2> 
        <span class="carousel-count">{{ section.settings.highlight_count}} </span>
        <span class="carousel-highlight">{{ section.settings.highlight_text}}</span>
    </div>
    <div class="carousel-slider">
      {% for block in section.blocks %}
        {% assign image = block.settings.image %}
        {% assign handle = block.settings.instagram_handle %}
        {% assign url = block.settings.link_url | default: "https://instagram.com/" | append: handle %}

        <div class="carousel-slide" {{ block.shopify_attributes }}>
          
            <div class="carousel-card">
              {% if image %}
                <img 
                  src="{{ image | image_url: width: 500 }}"
                  alt="{{ block.settings.alt_text | escape }}"
                  class="carousel-image"
                  loading="lazy"
                />
              {% endif %}
              <a href="{{ url }}" target="_blank" rel="noopener" class="carousel-handle">@{{ handle }}</a>
              {% if handle %}
                <div class="carousel-overlay">
                  
                </div>
              {% endif %}
            </div>
        </div>
      {% endfor %}
    </div>
  </div>
</section>


<script src="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.5.8/slick.min.js"></script>

<script>
  $(document).ready(function(){
  $('.carousel-slider').slick({
    slidesToShow: 1.61,
    infinite: false,
    arrows: false

  });
});
</script>
{% schema %}
  {
    "name": "Instagram Carousel",
    "settings": [
      {
        "type": "text",
        "id": "title",
        "label": "Heading",
        "default": "We empower"
      },
      {
        "type": "text",
        "id": "highlight_count",
        "label": "Highlight Count",
        "default": "20,000+"
      },
      {
        "type": "text",
        "id": "highlight_text",
        "label": "Highlight Text",
        "default": "gravel grinders"
      }
    ],
    "blocks": [
      {
        "type": "slide",
        "name": "Slide",
        "settings": [
          {
            "type": "image_picker",
            "id": "image",
            "label": "Instagram Image"
          },
          {
            "type": "text",
            "id": "alt_text",
            "label": "Alt text"
          },
          {
            "type": "text",
            "id": "instagram_handle",
            "label": "Instagram Handle"
          }
        ]
      }
    ],
    "max_blocks": 10,
    "presets": [
      {
        "name": "Instagram Carousel",
        "category": "Image"
      }
    ]
  }
  {% endschema %}
  
